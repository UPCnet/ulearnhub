/*! ulearnhub - v0.1.0 - 2022-09-15 */
!function(){"use strict";angular.module("hub",["datatables","datatables.bootstrap","ui.bootstrap","ui.router","ui.select","ngSanitize","ngCookies","pascalprecht.translate","formly","formlyBootstrap","hub.sidebar","hub.client","hub.translations"])}(),function(){"use strict";function e(e,t,n,o,r,s){e.setSections([{title:"Dashboard",sref:"domain",icon:"tachometer"},{title:"Deployments",sref:"deployments",icon:"server"},{title:"Domains",sref:"domains",icon:"globe"},{title:"Users",sref:"users",icon:"user"},{title:"Exceptions",sref:"exceptions",icon:"exclamation-triangle"}]),t.theme="bootstrap",n.otherwise("/"),o.useStaticFilesLoader({prefix:"locales/locale-",suffix:".json"}),o.preferredLanguage("ca"),r.state("domain",{url:"",templateUrl:"templates/hub.html",resolve:{}}).state("deployments",{url:"/deployments",templateUrl:"templates/deployments.html",controller:"DeploymentListController as deploymentsCtrl",resolve:{}}).state("deployment",{url:"/deployments/:name",templateUrl:"templates/deployment.html",controller:"DeploymentDetailController as deploymentCtrl",resolve:{components:["HUBClientService",function(e){return e.Component.query()}]}}).state("deployments.deployment.status",{url:"/:name/status",templateUrl:"templates/deployment-status.html",controller:"DeploymentStatusController as depStatusCtrl",resolve:{}}).state("domains",{url:"/domains",templateUrl:"templates/domains.html",controller:"DomainListController as domainsCtrl",resolve:{}}).state("users",{url:"/users",templateUrl:"templates/hubusers.html",controller:"HubUsersController as usersCtrl",resolve:{}}).state("exceptions",{url:"/exceptions",templateUrl:"templates/exceptions.html",controller:"ExceptionsController as excsCtrl",resolve:{}}).state("exception",{url:"/exceptions/:hash",templateUrl:"templates/exception.html",controller:"ExceptionController as excCtrl",resolve:{}})}angular.module("hub").config(e),e.$inject=["sidebarSectionsProvider","uiSelectConfig","$urlRouterProvider","$translateProvider","$stateProvider","formlyConfigProvider"]}(),function(){"use strict";function e(t,n){var o=this;o.sidebar_status="",o.toggleSidebar=function(){var e=t.toggle();o.sidebar_status=e?"":"page-sidebar-toggled"},o.changeLanguage=function(e){n.use(e)}}angular.module("hub").controller("MainAppController",e),e.$inject=["sidebarSections","$translate"]}(),function(){"use strict";var e=[{name:"SCOPE_SUBTREE",value:"SCOPE_SUBTREE"},{name:"SCOPE_ONELEVEL",value:"SCOPE_ONLEVEL"}];function s(e,t,n,o,r,s){return{key:t,type:"input",defaultValue:r,className:s,templateOptions:{type:e,label:n,placeholder:o}}}function t(e,t,n,o,r){return s("input",e,t,n,o,r)}function n(e,t,n,o,r){return s("password",e,t,n,o,r)}function o(e){return{template:'<hr /><div class="fieldgroup-title"><strong>'+e+"</strong></div>"}}function r(e,t,n,o){return{key:e,type:"select",className:o,templateOptions:{label:t,options:n}}}function a(e){return{className:"display-flex",fieldGroup:e}}angular.module("hub").value("ComponentSchemas",{mongodbreplicamember:[a([t("name","Component Identifier","","mongocluster","flex-1"),t("title","Component Description","","","flex-1")]),o("Setup parameters:"),t("path","Setup path","","/var/mongodb",""),a([t("server","Server where is installed","","","flex-2"),t("host","Effective dns of member","","","flex-2"),t("port","port","","27001","flex-1")])],ldapserver:[a([t("name","Component Identifier","","mongocluster","flex-1"),t("title","Component Description","","","flex-1")]),o("Server parameters:"),a([t("server","LDAP server uri","ldaps://server:port","","flex-1"),{key:"readonly",type:"checkbox",className:"flex-1",templateOptions:{label:"Do not write to this server"}}]),o("Security settings:"),a([t("admin_dn","LDAP bind dn","","","flex-1"),t("admin_password","LDAP bind password","","","flex-1")]),o("Search parameters:"),a([t("users_base_dn","Base DN where users live","","","flex-2"),r("user_scope","Scope to search",e,"flex-1")]),a([t("group_base_dn","Base DN where users live","","","flex-2"),r("group_scope","Scope to search",e,"flex-1")])],mongodbcluster:[a([t("name","Component Identifier","","mongocluster","flex-1"),t("title","Component Description","","","flex-1")]),t("replicaset","Replicaset name for this cluster","","","input-small"),o("Security settings:"),a([t("root_username",'Mongodb "root" user',"","root","flex-1"),n("root_password",'Mongodb "root" password',"password","","flex-1")]),a([t("db_username","Mongodb databases administrator user","","admin","flex-1"),n("db_password","Mongodb databases administrator password","password","","flex-1")]),t("admindb","Name of the database used for global authentication,\n leave blank to authenticate directly on working database.","","","input-small")]})}(),function(){"use strict";function e(t){var n=this;n.exceptions=t.Exception.query(),n.remove=function(e){t.Exception.remove({hash:e.id},function(){n.exceptions=t.Exception.query()},function(){})}}angular.module("hub").controller("ExceptionsController",e),e.$inject=["HUBClientService"]}(),function(){"use strict";function e(e,t){var n=this;n.hash=e.hash,n.exception=t.Exception.get({hash:n.hash}),n.request="",n.exception.$promise.then(function(e){n.request=Prism.highlight(e.request,Prism.languages.http),n.traceback=Prism.highlight(e.traceback,Prism.languages.python)})}angular.module("hub").controller("ExceptionController",e),e.$inject=["$stateParams","HUBClientService"]}(),function(){"use strict";function e(e,t,n,o,r){var s=this,e=e.currentLang;s.dtOptions=t.newOptions().withPaginationType("full_numbers").withBootstrap().withLanguage(n[e]),s.dtColumnDefs=[o.newColumnDef(0),o.newColumnDef(1),o.newColumnDef(2)],s.users=r.User.query(),s.domains=r.Domain.query(),s.newuser={},s.changeRole=function(e,t){!0===t.active?r.UserRole.update({role:t.role,domain:e.domain,username:e.username},{}):r.UserRole.remove({domain:e.domain,role:t.role,username:e.username})},s.add=function(){r.User.save({username:s.newuser.username,domain:s.newuser.domain.name},function(){},function(){})}}angular.module("hub").controller("HubUsersController",e),e.$inject=["$cookies","DTOptionsBuilder","DTTranslations","DTColumnDefBuilder","HUBClientService"]}(),function(){"use strict";function e(e,t,n,o,r,s){var a=this,e=e.currentLang;a.dtOptions=n.newOptions().withPaginationType("full_numbers").withBootstrap().withLanguage(o[e]),a.dtColumnDefs=[r.newColumnDef(0),r.newColumnDef(1),r.newColumnDef(2)],a.domains=s.Domain.query(),a.openModal=function(e){t.open({templateUrl:"new-domain.html",controller:"ModalInstanceCtrl",size:e}).result.then(function(e){a.domains.push(e)})}}function t(t,n,e){t.alerts=[],t.ok=function(){e.Domain.save(t.newdomain).$promise.then(function(e){n.close(e)},function(e){t.alerts.push({type:"danger",msg:e.data.error+": "+e.data.error_description})})},t.cancel=function(){n.dismiss("cancel")},t.closeAlert=function(e){t.alerts.splice(e,1)}}angular.module("hub").controller("DomainListController",e).controller("NewDomainModalController",t),e.$inject=["$cookies","$modal","DTOptionsBuilder","DTTranslations","DTColumnDefBuilder","HUBClientService"],t.$inject=["$scope","$modalInstance","HUBClientService"]}(),function(){"use strict";function e(e,t,n,o,r,s){e=e.currentLang;this.dtOptions=n.newOptions().withPaginationType("full_numbers").withBootstrap().withLanguage(o[e]),this.dtColumnDefs=[r.newColumnDef(0),r.newColumnDef(1),r.newColumnDef(2)],this.deployments=s.Deployment.query()}function t(t,n,e,o){t.alerts=[],t.ok=function(){o.Domain.save(t.newdomain).$promise.then(function(e){n.close(e)},function(e){t.alerts.push({type:"danger",msg:e.data.error+": "+e.data.error_description})})},t.cancel=function(){n.dismiss("cancel")},t.closeAlert=function(e){t.alerts.splice(e,1)}}angular.module("hub").controller("DeploymentListController",e).controller("NewDeploymentModalController",t),e.$inject=["$cookies","$modal","DTOptionsBuilder","DTTranslations","DTColumnDefBuilder","HUBClientService"],t.$inject=["$scope","$modalInstance","$modal","HUBClientService"]}(),function(){"use strict";function e(e,t,n,o,r,s,a,i,l){var u=this;u.obj=l.Deployment.get({name:o.name}),u.selectedComponent={},u.components=r,u.selectedComponent=u.components[0],u.newComponentModal=function(){n.open({templateUrl:"templates/new-component.html",controller:"NewComponentCtrl as newCompCtrl",resolve:{component_type:function(){return u.selectedComponent},deployment_name:function(){return u.obj.name},parent_component:function(){}}}).result.then(function(){u.obj=l.Deployment.get({name:o.name})},function(){})},u.newSubcomponentModal=function(e,t){n.open({templateUrl:"templates/new-component.html",controller:"NewComponentCtrl as newCompCtrl",resolve:{component_type:function(){return t},deployment_name:function(){return u.obj.name},parent_component:function(){return e}}}).result.then(function(){u.obj=l.Deployment.get({name:o.name})},function(){})},u.availableSubcomponents=function(e){return t("filter")(u.components,{type:e},!0)[0].components}}function t(n,e,o,t,r,s){var a=this;a.model={},a.component_type=t,a.formFields=e[t.type],a.onSubmit=function(){var e=a.model.name,t=a.model.title,e=(delete a.model.name,delete a.model.title,{component:a.component_type.type,name:e,title:t,params:a.model});s&&(e.parent=s.name);o.DeploymentComponent.save({name:r},e,function(e){n.close(e)},function(){})},a.onCancel=function(){n.dismiss("cancel")}}angular.module("hub").controller("DeploymentDetailController",e).controller("NewComponentCtrl",t),e.$inject=["$cookies","$filter","$modal","$stateParams","components","DTOptionsBuilder","DTTranslations","DTColumnDefBuilder","HUBClientService"],t.$inject=["$modalInstance","ComponentSchemas","HUBClientService","component_type","deployment_name","parent_component"]}(),function(){"use strict";function e(e){}angular.module("hub").controller("DeploymentStatusController",e),e.$inject=["HUBClientService"]}(),function(){"use strict";angular.module("hub.client",["ngResource"])}(),function(){"use strict";function e(e){var t={};return t.headers={"X-Oauth-Username":e.username,"X-Oauth-Token":e.token,"X-Oauth-Domain":e.domain,"X-Oauth-Scope":"widgetcli"},t.server=e.server,t}angular.module("hub.client").directive("ngHubInfo",function(){return{restrict:"E",controller:["$scope","$element","$attrs","hubSession",function(e,t,n,o){o.username=n.username,o.token=n.token,o.server=n.server,o.domain=n.domain}]}}).factory("hubInfo",e).value("hubSession",{username:"",token:"",server:""}),e.$inject=["hubSession"]}(),function(){"use strict";function e(e,t){this.Domain=e(t.server+"/api/domains/:id",null,{query:{method:"GET",isArray:!0,headers:t.headers},save:{method:"POST",headers:t.headers},get:{method:"GET",headers:t.headers}}),this.Component=e(t.server+"/api/components/:name",null,{query:{method:"GET",isArray:!0,headers:t.headers}}),this.Deployment=e(t.server+"/api/deployments/:name",null,{query:{method:"GET",isArray:!0,headers:t.headers},save:{method:"POST",headers:t.headers},get:{method:"GET",headers:t.headers}}),this.DeploymentComponent=e(t.server+"/api/deployments/:name/components",null,{save:{method:"POST",headers:t.headers}}),this.User=e(t.server+"/api/users/:username",null,{query:{method:"GET",isArray:!0,headers:t.headers},save:{method:"POST",headers:t.headers}}),this.UserRole=e(t.server+"/api/users/:domain/:username/roles/:role",null,{remove:{method:"DELETE",headers:t.headers},update:{method:"PUT",headers:t.headers}}),this.Exception=e(t.server+"/api/exceptions/:hash",null,{query:{method:"GET",isArray:!0,headers:t.headers},get:{method:"GET",headers:t.headers},remove:{method:"DELETE",headers:t.headers}})}angular.module("hub.client").service("HUBClientService",e),e.$inject=["$resource","hubInfo"]}(),function(){"use strict";angular.module("hub.sidebar",["ui.router"])}(),function(){"use strict";angular.module("hub.sidebar").provider("sidebarSections",function(){var o=[],e=!0,r={section:void 0,subsection:void 0};this.$get=function(){return{toggle:function(){return e=!e},get:function(){return o},add:function(e){o.push(e)},subsection:function(t,e){var n=o.filter(function(e){return e.sref===t})[0];return o[o.indexOf(n)].subsections=e,n},expanded:function(e,t){return r[t]===e},expand:function(e,t,n){r[t]!==e|!0===n?r[t]=e:r[t]=void 0}}},this.setSections=function(e){o=e}})}(),function(){"use strict";function e(o,r,n){var e=this;e.sections=n.get(),e.expands={section:void 0,subsection:void 0},e.active=function(e,t){t=t?o.href(e):e;var e=o.href(o.current.name,r),n=new RegExp(t+"/","g");return(!!e&&null!==e.match(n)&&"#"!==t)|e===t?"active":""},e.has_sub=function(e){return 0<(void 0===e?[]:e).length?"has-sub":""},e.expanded=function(e,t){return n.expanded(e,t)},e.expand=function(e,t){return n.expand(e,t)}}angular.module("hub.sidebar").controller("SidebarController",e),e.$inject=["$state","$stateParams","sidebarSections"]}(),function(){"use strict";angular.module("hub.translations",[])}(),function(){"use strict";angular.module("hub.translations").constant("DTTranslations",{es:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:".",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},ca:{sProcessing:"Processant...",sLengthMenu:"Mostra _MENU_ registres",sZeroRecords:"No s'han trobat registres.",sEmptyTable:"No hi ha cap dada disponible en aquesta taula",sInfo:"Mostrant de _START_ a _END_ de _TOTAL_ registres",sInfoEmpty:"Mostrant de 0 a 0 de 0 registres",sInfoFiltered:"(filtrat de _MAX_ total registres)",sInfoPostFix:"",sSearch:"Filtrar:",sUrl:"",sInfoThousands:".",sLoadingRecords:"Carregant...",oPaginate:{sFirst:"Primer",sPrevious:"Anterior",sNext:"Següent",sLast:"Últim"},oAria:{sSortAscending:": Activa per ordenar la columna de manera ascendente",sSortDescending:": Activa per ordenar la columna de manera descendente"}},en:{sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}}})}();
//# sourceMappingURL=hub.min.js.map